(this.webpackJsonpcurrency=this.webpackJsonpcurrency||[]).push([[0],{68:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(0),a=n.n(c),o=n(20),u=n.n(o),i=n(10),s=n(13),l=n(38),j=n(15),p=n(19),f=n(3),d="GET_CURRENT_DATA",b="PUT_FIVE_DATA",h="DROP_DOWN",x="INPUT_HANDLER",O="INPUT_SEARCH",v="SELECT_CURRENCY",g="RECALCULATE_WHEN_SELECTED",y="SELECT_FAVORITE",m="CHANGE_BOX",w=n(18),S=n.n(w),C=new Date,D=function(){return C.toISOString().substr(0,10)},I=function(t,e){var n=[],r=t.table.map((function(t){return t.r030===e?Object(f.a)(Object(f.a)({},t),{},{select:!t.select}):t}));return n=-1===t.favoriteCurrency.findIndex((function(t){return t.r030===e}))?[].concat(Object(p.a)(t.favoriteCurrency),[r.find((function(t){return t.r030===e}))]):t.favoriteCurrency.filter((function(t){return t.r030!==e})),{table:r,favoriteCurrency:n}},N=function(t,e){if(""===e.payload)return{leftInput:"",rightInput:""};var n=Math.floor(e.payload.replace(",",".")),r=t.leftBox.rate,c=t.rightBox.rate;return"left"===e.name?{leftInput:n,rightInput:(n*r/c).toFixed(2)}:{rightInput:n,leftInput:(n*c/r).toFixed(2)}},E=function(t,e){var n=e.toLowerCase(),r=t.table.filter((function(t){return t.txt.toLowerCase().includes(n)||t.cc.includes(n.toUpperCase())}));return r=r.length?r:[{r030:"-1",cc:"\u0414\u0430\u043d\u043d\u044b\u0445",txt:"\u043d\u0435\u0442"}],Object(p.a)(r)},k=function(){var t=Date.parse(C),e=[];e.push(t);for(var n=0;n<4;n++)t-=864e5,e.push(t);return(e=e.reverse()).map((function(t){var e=new Date(t).toISOString().substr(0,10).split("-").join("");return S.a.get("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchangenew?json&date=".concat(e))}))},T={r030:1e5,txt:"\u0413\u0440\u0438\u0432\u043d\u0430",rate:1,cc:"UAN",exchangedate:C.toLocaleDateString(),select:!1},B={leftDrop:!1,rightDrop:!1,leftBox:T,leftInput:"",rightBox:{},rightInput:"",table:[],tableToFive:[],favoriteCurrency:[],inputSearch:"",foundCurrency:[]},F=Object(s.c)({reducer:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case d:var r=n.payload.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{select:!1})})),c=r.find((function(t){return"USD"===t.cc}));return Object(f.a)(Object(f.a)({},e),{},{table:[].concat(Object(p.a)(r),[T]),rightBox:c});case h:return Object(f.a)(Object(f.a)(Object(f.a)({},e),n.payload),{},{foundCurrency:[],inputSearch:""});case v:var a=e.table.find((function(t){return t.r030===n.payload}));return Object(f.a)(Object(f.a)({},e),{},(t={},Object(j.a)(t,n.name,a),Object(j.a)(t,"foundCurrency",[]),Object(j.a)(t,"inputSearch",""),t));case y:return Object(f.a)(Object(f.a)({},e),I(e,n.payload));case x:return Object(f.a)(Object(f.a)({},e),N(e,n));case g:var o="left"===n.payload?e.leftInput.toString():e.rightInput.toString();return Object(f.a)(Object(f.a)(Object(f.a)({},e),N(e,{payload:o,name:n.payload})),{},{foundCurrency:[],inputSearch:""});case m:return Object(f.a)(Object(f.a)({},e),{},{leftBox:e.rightBox,rightBox:e.leftBox,leftInput:e.rightInput,rightInput:e.leftInput,foundCurrency:[],inputSearch:""});case O:var u=E(e,n.payload);return Object(f.a)(Object(f.a)({},e),{},{inputSearch:n.payload,foundCurrency:u});case b:return Object(f.a)(Object(f.a)({},e),{},{tableToFive:n.payload});default:return e}}}),R=Object(s.d)(F,Object(s.a)(l.a)),_=n(40),L=n(39),A=n(4),U=(n(68),function(t){var e=t.table,n=t.funcRow,c=t.funcStar,o=t.text;return Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)("div",{className:"dropTable_header",children:o}),e.map((function(t){return Object(r.jsxs)("div",{className:"dropTable_data",children:[Object(r.jsxs)("div",{onClick:function(){return n(t.r030)},className:"dropTable_data-row",children:[Object(r.jsx)("span",{children:t.cc}),Object(r.jsx)("span",{children:t.txt})]}),Object(r.jsx)("div",{className:"star",onClick:function(){return c(t.r030)},children:Object(r.jsxs)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px",viewBox:"0 0 24 24","aria-labelledby":"starIconTitle starIconDesc",stroke:"#FDE910",strokeWidth:"1",strokeLinecap:"square",strokeLinejoin:"miter",fill:"".concat(t.select?"#FDE910":"none"),color:"#EDFF21",children:[Object(r.jsx)("title",{id:"starIconTitle",children:"Star"}),Object(r.jsx)("desc",{id:"starIconDesc",children:"Icon of a five-pointed star"}),Object(r.jsx)("polygon",{points:"12 17.844 6.183 20.902 7.294 14.425 2.588 9.838 9.092 8.893 12 3 14.908 8.893 21.412 9.838 16.706 14.425 17.817 20.902"})]})})]},t.r030)}))]})}),P=function(t){var e=t.funcSearch,n=t.funcRow,c=t.funcStar,a=Object(i.c)((function(t){return t.reducer})),o=a.table,u=a.favoriteCurrency,s=a.inputSearch,l=a.foundCurrency,j=!!l.length;return Object(r.jsxs)("div",{className:"dropDown",children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a",onChange:e,name:"inputSearch",value:s})}),Object(r.jsxs)("div",{className:"dropTable",children:[j&&Object(r.jsx)(U,{table:l,funcRow:n,funcStar:c,text:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),!!u.length&&Object(r.jsx)(U,{table:u,funcRow:n,funcStar:c,text:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),Object(r.jsx)(U,{table:o,funcRow:n,funcStar:c,text:"\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u0430\u043b\u044e\u0442\u044b"})]})]})},H=n(6),W=n.n(H),G=n(12),J=function(){var t=Object(G.a)(W.a.mark((function t(){var e,n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.get("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchangenew?json");case 3:return e=t.sent,n=e.data,t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(G.a)(W.a.mark((function t(e){var n,r;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.get("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchangenew?json&date=".concat(e));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(G.a)(W.a.mark((function t(){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(k());case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),q=function(t){return{type:d,payload:t}},X=function(t){return{type:h,payload:t}},Y=function(t,e){return{type:v,payload:t,name:e}},z=n.p+"static/media/arrow.f845759c.svg",K=(n(70),function(t){var e=t.text,n=t.funcInput,c=t.onFocus,a=t.value,o=t.name,u=t.dropFunc,s=t.dropDown,l=t.boxLeft,j=t.boxRight,p=Object(i.b)();return Object(r.jsxs)("div",{className:"box",children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("span",{children:e}),Object(r.jsx)("input",{type:"number",onChange:n,value:a,name:o,onClick:function(){c(o)}}),Object(r.jsx)("span",{children:"".concat("left"===o?l.cc:j.cc," ").concat("left"===o?l.txt:j.txt)})]}),Object(r.jsxs)("div",{className:"button",children:[Object(r.jsxs)("button",{onClick:function(){u(o)},children:[Object(r.jsx)("span",{children:"left"===o?l.cc:j.cc})," ",Object(r.jsx)("img",{src:z,alt:"arrow",className:"".concat(s?"down":"")})]}),s&&Object(r.jsx)(P,{name:o,funcSearch:function(t){var e;p((e=t.target.value,{type:O,payload:e}))},funcRow:function(t){"-1"!==t&&("left"===o?(p(Y(t,"leftBox")),p(X({leftDrop:!1}))):(p(Y(t,"rightBox")),p(X({rightDrop:!1}))),p(function(t){return{type:g,payload:t}}(o)))},funcStar:function(t){p(function(t){return{type:y,payload:t}}(t))}})]})]})}),Q=(n(71),function(){var t=Object(i.b)(),e=Object(A.f)(),n=Object(A.g)(),c=Object(i.c)((function(t){return t.reducer})),o=c.table,u=c.tableToFive;a.a.useEffect((function(){var e;n.params.id&&t((e=n.params.id,function(){var t=Object(G.a)(W.a.mark((function t(n){var r,c;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V();case 2:r=t.sent,c=r.map((function(t){return t.data.find((function(t){return t.r030===+e}))})),n({type:b,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[n.params.id,t]);var s=n.params.id?u:o;return Object(r.jsxs)("div",{className:"all-currency",children:[Object(r.jsx)("h3",{children:"\u0412\u0441\u0435 \u0432\u0430\u043b\u044e\u0442\u044b"}),Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"\xa0"}),Object(r.jsx)("th",{children:"\xa0"}),Object(r.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),Object(r.jsx)("th",{children:"\u041a\u0443\u0440\u0441"})]})}),Object(r.jsx)("tbody",{children:s.map((function(n,c){return Object(r.jsxs)("tr",{onClick:function(){return r=n.r030,e.push("/".concat(r)),void t(X({leftDrop:!1,rightDrop:!1}));var r},children:[Object(r.jsx)("td",{children:n.txt}),Object(r.jsx)("td",{children:n.cc}),Object(r.jsx)("td",{children:n.exchangedate}),Object(r.jsx)("td",{children:n.rate})]},n.r030+"".concat(c))}))})]}),n.params.id&&Object(r.jsx)("button",{onClick:function(){e.push("/")},children:"\u041d\u0430\u0437\u0430\u0434"})]})});n(73);var Z=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.reducer})),n=e.leftDrop,c=e.leftBox,o=e.leftInput,u=e.rightDrop,s=e.rightBox,l=e.rightInput,j=a.a.useState(D()),p=Object(_.a)(j,2),f=p[0],d=p[1];a.a.useEffect((function(){t(function(){var t=Object(G.a)(W.a.mark((function t(e){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J();case 2:n=t.sent,e(q(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[t]),a.a.useEffect((function(){var e=f.split("-").join("");t(function(t){return function(){var e=Object(G.a)(W.a.mark((function e(n){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:r=e.sent,n(q(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}),[t,f]);var b=function(e){var n=e.target,r=n.name,c=n.value;t(function(t,e){return{type:x,payload:t,name:e}}(c,r))},h=function(){t(X({leftDrop:!1,rightDrop:!1}))},O=function(e){t(X("left"===e?{leftDrop:!n,rightDrop:!1}:{rightDrop:!u,leftDrop:!1}))};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("div",{className:"exchanger",children:[Object(r.jsxs)("div",{className:"exchanger_header",children:[Object(r.jsx)("h1",{children:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0432\u0430\u043b\u044e\u0442"}),Object(r.jsxs)("h3",{children:["\u0414\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",Object(r.jsx)("span",{children:Object(r.jsx)("input",{type:"date",name:"date",value:f,max:D(),onChange:function(t){d(t.target.value)}})})]})]}),Object(r.jsxs)("div",{className:"exchanger_container",children:[Object(r.jsx)(K,{boxLeft:c,boxRight:s,text:"\u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c",onFocus:h,funcInput:b,value:o,name:"left",dropFunc:O,dropDown:n}),Object(r.jsxs)("div",{className:"replacement",onClick:function(){t({type:m}),t(X({leftDrop:!1,rightDrop:!1}))},children:[Object(r.jsx)("div",{className:"arrow-right"}),Object(r.jsx)("div",{className:"arrow-left"})]}),Object(r.jsx)(K,{boxLeft:c,boxRight:s,text:"\u042f \u043f\u043e\u043b\u0443\u0447\u0443",onFocus:h,funcInput:b,value:l,name:"right",dropFunc:O,dropDown:u})]})]}),Object(r.jsx)(L.a,{children:Object(r.jsxs)(A.c,{children:[Object(r.jsx)(A.a,{exact:!0,path:"/",children:Object(r.jsx)(Q,{})}),Object(r.jsx)(A.a,{path:"/:id",children:Object(r.jsx)(Q,{})})]})})]})};n(74);u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(i.a,{store:R,children:Object(r.jsx)(Z,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.4fad7e2d.chunk.js.map